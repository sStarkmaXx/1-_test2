Попробовал прикрутить единицы измерения для реалистичности. Условно на склад продукты приходят в кг, масло в бутылках, вода в литрах. На складе хранится все в кг, масло из бутылок пересчитывается в кг(на бутылке указан вес), вода в литрах. В рецептах все к граммах. Блюда готовятся, пересчитываются в порции, без учета остатка. При продажи блюда в порциях, продукты в килограммах, масло в бутылках, вода в литрах. Если целой бутылки масла нет, значит она открыта, продать нельзя. Но на остатках масло есть. Вес порции и бутылки масла вынес в отдельные константы, что бы можно было менять при необходимости. Но работать будет не корректно, т.к. не понимаю как достучаться до констант из модуля формы, по этому захардкодил массу бутылки в расходной накладной.